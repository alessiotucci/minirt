==639753== Memcheck, a memory error detector
==639753== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==639753== Using Valgrind-3.20.0 and LibVEX; rerun with -h for copyright info
==639753== Command: ./miniRT DIRmaps/working_map.rt
==639753== 
[1;32mcorrect extension[0m
[[1;31mA[0m]
[[1;31m [0m]
[[1;31mC[0m]
[[1;31m [0m]
[42mfinished[49m READING THE MAP 1 TIME
	*[1;33mSETTING UP AMBIENT LIGHTING[0m**
Parsing color (255,255,255 )
[[1;31m [0m]

	[1;36m*SETTING UP CAMERA[0m*
Parsing vector (-50,0,20)
Parsing vector (0,0,1)
	*[1;35mSETTING UP LIGHTS*[0m
Parsing vector (10,20,30)
Parsing color (255,255,255 )

	[1;34m*SETTING UP PLANES*[0m
Parsing vector (0,0,0)
Parsing vector (0,1.0,0)
Parsing color (255,0,255 )

	[1;31m*SETTING UP SPHERES*[0m
Parsing vector (-50,0,10)
Parsing color (255,0,0 )
	[1;32m*SETTING UP CYLINDER*[0m
Parsing vector (-43,0,10)
Parsing vector (0,0,1.0)
Parsing color (10,0,255 )
[[1;31m [0m]


------STRUCT STATUS -------
struct has [1] planes 	  |
struct has [1] cylinders  |
struct has [1] spheres 	  |
struct has [1] lights	  |
---------------------------



------STRUCT STATUS -------
struct has [0] planes 	  |
struct has [0] cylinders  |
struct has [0] spheres 	  |
struct has [0] lights	  |
---------------------------

x: -50.000000 y: 0.000000 z: 20.000000 [1;34mw:[0m 1.000000
x: 0.000000 y: 0.000000 z: 1.000000 [1;34mw:[0m 0.000000
x: 10.000000 y: 20.000000 z: 30.000000 [1;34mw:[0m 1.000000
x: 0.000000 y: 0.000000 z: 0.000000 [1;34mw:[0m 1.000000
x: 0.000000 y: 1.000000 z: 0.000000 [1;34mw:[0m 0.000000
x: -50.000000 y: 0.000000 z: 10.000000 [1;34mw:[0m 1.000000
[1;32mDettagli della sfera selezionata:[0m
[1;32mID: sp[0m
[1;32mCentro: x = -50.000000, y = 0.000000, z = 10.000000[0m
[1;32mDiametro: 5.000000[0m
[1;32mColore: r = 255.000000, g = 0.000000, b = 0.000000[0m
x: -43.000000 y: 0.000000 z: 10.000000 [1;34mw:[0m 1.000000
x: 0.000000 y: 0.000000 z: 1.000000 [1;34mw:[0m 0.000000


------STRUCT [1;35mFULL [0mSTATUS -------

*	 [1;34mAMBIENT LIGHTS[0m *
Ratio of ambient lights: 0.200000
Color of ambient lights: [1;31mR: 255.000000 [0m[1;32mG: 255.000000 [0m[1;34mB: 255.000000[0m

*	[1;34mCAMERA STATS[0m *
ViewPoint: x: -50.000000 y: 0.000000 z: 20.000000 [1;34mw:[0m 1.000000
Orentation: x: 0.000000 y: 0.000000 z: 1.000000 [1;34mw:[0m 0.000000
FOV:[70]

* n.[[1;31m1[0m] PLANES 	
Planes[0]colors : [1;31mR: 255.000000 [0m[1;32mG: 0.000000 [0m[1;34mB: 255.000000[0m
Point of the plane: x: 0.000000 y: 0.000000 z: 0.000000 [1;34mw:[0m 1.000000
Normal vector of the plane: x: 0.000000 y: 1.000000 z: 0.000000 [1;34mw:[0m 0.000000

* n.[[1;31m1[0m] CYLINDERS  |
Cylinders[0]colors : [1;31mR: 10.000000 [0m[1;32mG: 0.000000 [0m[1;34mB: 255.000000[0m
Center of the cylinder: x: -43.000000 y: 0.000000 z: 10.000000 [1;34mw:[0m 1.000000
normalized vector of axis of cylinder : x: 0.000000 y: 0.000000 z: 1.000000 [1;34mw:[0m 0.000000
diameter: 2.500000 & height: 2.000000

* n.[[1;31m1[0m] SPHERES 	  |
Spheres[0]Address: 0x4d1a630
colors : [1;31mR: 255.000000 [0m[1;32mG: 0.000000 [0m[1;34mB: 0.000000[0m
material : PRINT MATERIAL
color: [1;31mR: 255.000000 [0m[1;32mG: 255.000000 [0m[1;34mB: 255.000000[0m
ambient: 0.100000
diffuse: 0.900000
specular: 0.900000
sphininess: 200.000000
Center of the Sphere: x: -50.000000 y: 0.000000 z: 10.000000 [1;34mw:[0m 1.000000
Diameter: 5.000000
	Sphere Matrix:	0x4d1a450
 | 1.000000 |  | 0.000000 |  | 0.000000 |  | 0.000000 | 
 | 0.000000 |  | 1.000000 |  | 0.000000 |  | 0.000000 | 
 | 0.000000 |  | 0.000000 |  | 1.000000 |  | 0.000000 | 
 | 0.000000 |  | 0.000000 |  | 0.000000 |  | 1.000000 | 
***

* n.[[1;31m1[0m] LIGHTS	  |
Lights[0]colors : [1;31mR: 255.000000 [0m[1;32mG: 255.000000 [0m[1;34mB: 255.000000[0m
Position of the light: x: 10.000000 y: 20.000000 z: 30.000000 [1;34mw:[0m 1.000000
Brightness of the light: 1.000000 
---------------------------

[1;34mPuntatore data: 0x1ffefff6e0[0m
[1;34mContenuto data:[0m
[1;31m  mlx non inizializzato![0m
[1;31m  win non inizializzato![0m
[1;31m  img_pointer non inizializzato![0m
[1;31m  img_string non inizializzato![0m
[1;34m  bits: 0[0m
[1;34m  lsize: 0[0m
[1;34m  endian: 0[0m
[1;34m  width: 1280[0m
[1;34m  height: 720[0m
[1;34m  setting: 0x1ffefff690[0m
[1;31m  selected_object non inizializzato![0m
[1;34m  is_object_selected: 0[0m

--- Debug: t_setting ---
Ambient Light:
  Ratio: 0.200000
  Color: R: 255.000000, G: 255.000000, B: 255.000000
Camera:
  View Point: x: -50.000000, y: 0.000000, z: 20.000000
  Orientation: x: 0.000000, y: 0.000000, z: 1.000000
  FOV: 70
Number of Lights: 1
  Light[0]:
    Position: x: 10.000000, y: 20.000000, z: 30.000000
    Color: R: 255.000000, G: 255.000000, B: 255.000000
    Brightness: 1.000000
Number of Spheres: 1
  Sphere[0]:
    Center: x: -50.000000, y: 0.000000, z: 10.000000
    Diameter: 5.000000
    Color: R: 255.000000, G: 0.000000, B: 0.000000
Number of Planes: 1
  Plane[0]:
    Point[1;33mmlx_init has started[0m
==639753== Syscall param writev(vector[0]) points to uninitialised byte(s)
==639753==    at 0x4BCA560: writev (writev.c:26)
==639753==    by 0x4CBF015: ??? (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==639753==    by 0x4CBF560: xcb_writev (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==639753==    by 0x48D2B94: _XSend (in /usr/lib/x86_64-linux-gnu/libX11.so.6.4.0)
==639753==    by 0x48D2D4F: _XReadEvents (in /usr/lib/x86_64-linux-gnu/libX11.so.6.4.0)
==639753==    by 0x48D11AB: XWindowEvent (in /usr/lib/x86_64-linux-gnu/libX11.so.6.4.0)
==639753==    by 0x11644B: mlx_int_wait_first_expose (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x11620E: mlx_new_window (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x10BE0B: manage_mlx (manage_mlx.c:743)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x4d259fc is 28 bytes inside a block of size 16,384 alloc'd
==639753==    at 0x48489F3: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==639753==    by 0x48C1BBA: XOpenDisplay (in /usr/lib/x86_64-linux-gnu/libX11.so.6.4.0)
==639753==    by 0x115FD2: mlx_init (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x10BDA6: manage_mlx (manage_mlx.c:715)
==639753==    by 0x10A9A4: main (main.c:189)
==639753== 
==639753== Invalid read of size 16
==639753==    at 0x10C3FB: v2normal_at (normal.c:26)
==639753==    by 0x112BEA: each_pixel_calculation (cast_ray_helper.c:105)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff198 is on thread 1's stack
==639753==  408 bytes below stack pointer
==639753== 
==639753== Invalid read of size 16
==639753==    at 0x10C405: v2normal_at (normal.c:26)
==639753==    by 0x112BEA: each_pixel_calculation (cast_ray_helper.c:105)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff1a8 is on thread 1's stack
==639753==  392 bytes below stack pointer
==639753== 
==639753== Invalid read of size 16
==639753==    at 0x112DE4: get_color_intersect (cast_ray_helper.c:22)
==639753==    by 0x112DE4: each_pixel_calculation (cast_ray_helper.c:106)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff1c0 is on thread 1's stack
==639753==  544 bytes below stack pointer
==639753== 
==639753== Invalid read of size 16
==639753==    at 0x112DEE: get_color_intersect (cast_ray_helper.c:22)
==639753==    by 0x112DEE: each_pixel_calculation (cast_ray_helper.c:106)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff1d0 is on thread 1's stack
==639753==  528 bytes below stack pointer
==639753== 
==639753== Invalid read of size 16
==639753==    at 0x112DF8: get_color_intersect (cast_ray_helper.c:22)
==639753==    by 0x112DF8: each_pixel_calculation (cast_ray_helper.c:106)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff1e0 is on thread 1's stack
==639753==  512 bytes below stack pointer
==639753== 
==639753== Invalid read of size 16
==639753==    at 0x112E02: get_color_intersect (cast_ray_helper.c:22)
==639753==    by 0x112E02: each_pixel_calculation (cast_ray_helper.c:106)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff1f0 is on thread 1's stack
==639753==  496 bytes below stack pointer
==639753== 
==639753== Invalid read of size 8
==639753==    at 0x112E07: get_color_intersect (cast_ray_helper.c:22)
==639753==    by 0x112E07: each_pixel_calculation (cast_ray_helper.c:106)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753==  Address 0x1ffefff200 is on thread 1's stack
==639753==  480 bytes below stack pointer
==639753== 
[1;31mdestroying the windows
[0m
: x: 0.000000, y: 0.000000, z: 0.000000
    Normal: x: 0.000000, y: 1.000000, z: 0.000000
    Color: R: 255.000000, G: 0.000000, B: 255.000000
Number of Cylinders: 1
  Cylinder[0]:
    Center: x: -43.000000, y: 0.000000, z: 10.000000
    Diameter: 2.500000, Height: 2.000000
    Color: R: 10.000000, G: 0.000000, B: 255.000000
Number of Cones: 0
-------------------------


				  ENTRATO IN MANAGE_MLX


[1;31m			 siamo in my_new_image
[0mSTAMPA DATA->MLX 1280
STAMPA DATA->MLX 720
[1;33mTentativo di creazione immagine con mlx_new_image...
[0m[1;34mImmagine creata con successo! Indirizzo img_pointer: 0x4d327e0
[0m[1;33mDati dell'immagine ottenuti: bits = 32, lsize = 5120, endian = 0
[0m[1;34mqui ci siamo3 
[0mSFONDO NERO RIDISEGNATO
Image Plane Width: 1.400415
Image Plane Height: 0.787733
Create a deep copy of the sphere
s++
Create a deep copy of the sphere
s++
----------------------------------------------------copia già  effettuata


----------------------------------------------------copia già  effettuata


----------------------------------------------------copia già  effettuata


----------------------------------------------------copia già  effettuata


finally print out the light point: x: 811, y: 17

	The while loop took [1;33m393.67 seconds[0m to execute.
SCENA RIDISEGNATA
==639753== 
==639753== HEAP SUMMARY:
==639753==     in use at exit: 147,533,916 bytes in 4,608,132 blocks
==639753==   total heap usage: 314,266,038 allocs, 309,657,906 frees, 6,443,747,867 bytes allocated
==639753== 
==639753== 319 bytes in 8 blocks are definitely lost in loss record 66 of 80
==639753==    at 0x4843808: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==639753==    by 0x115AB8: get_return (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x115D5B: get_next_line (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x10CA91: counting_123 (parsing_map.c:47)
==639753==    by 0x10CA91: parse_map (parsing_map.c:72)
==639753==    by 0x10CA91: open_map (parsing_map.c:99)
==639753==    by 0x10A547: main (main.c:181)
==639753== 
==639753== 319 bytes in 8 blocks are definitely lost in loss record 67 of 80
==639753==    at 0x4843808: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==639753==    by 0x115AB8: get_return (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x115D5B: get_next_line (in /home/dc00k/Desktop/miniporcodiort/miniRT)
==639753==    by 0x10CB19: parse_map (parsing_map.c:77)
==639753==    by 0x10CB19: open_map (parsing_map.c:99)
==639753==    by 0x10A547: main (main.c:181)
==639753== 
==639753== 523 (360 direct, 163 indirect) bytes in 1 blocks are definitely lost in loss record 70 of 80
==639753==    at 0x4843808: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==639753==    by 0x112E30: deep_copy_sphere (intersection.c:17)
==639753==    by 0x113143: intersection (intersection.c:85)
==639753==    by 0x111E45: intersect_sphere (intersection_ray.c:70)
==639753==    by 0x112A5F: each_pixel_calculation (cast_ray_helper.c:90)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753== 
==639753== 523 (360 direct, 163 indirect) bytes in 1 blocks are definitely lost in loss record 71 of 80
==639753==    at 0x4843808: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==639753==    by 0x112E30: deep_copy_sphere (intersection.c:17)
==639753==    by 0x113143: intersection (intersection.c:85)
==639753==    by 0x111E6A: intersect_sphere (intersection_ray.c:71)
==639753==    by 0x112A5F: each_pixel_calculation (cast_ray_helper.c:90)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753== 
==639753== 147,455,776 (29,491,168 direct, 117,964,608 indirect) bytes in 921,599 blocks are definitely lost in loss record 80 of 80
==639753==    at 0x4843808: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==639753==    by 0x10FCCF: malloc_matrix (matrix_utils.c:35)
==639753==    by 0x111085: divide_matrix (inversing.c:33)
==639753==    by 0x111085: inversing_matrix (inversing.c:103)
==639753==    by 0x11189D: intersect_sphere (intersection_ray.c:53)
==639753==    by 0x112A5F: each_pixel_calculation (cast_ray_helper.c:90)
==639753==    by 0x11256F: cast_rays (cast_ray.c:161)
==639753==    by 0x10C20B: draw_scene (draw_scene.c:90)
==639753==    by 0x10BE28: manage_mlx (manage_mlx.c:753)
==639753==    by 0x10A9A4: main (main.c:189)
==639753== 
==639753== LEAK SUMMARY:
==639753==    definitely lost: 29,492,526 bytes in 921,617 blocks
==639753==    indirectly lost: 117,964,934 bytes in 3,686,406 blocks
==639753==      possibly lost: 224 bytes in 7 blocks
==639753==    still reachable: 76,232 bytes in 102 blocks
==639753==         suppressed: 0 bytes in 0 blocks
==639753== Reachable blocks (those to which a pointer was found) are not shown.
==639753== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==639753== 
==639753== Use --track-origins=yes to see where uninitialised values come from
==639753== For lists of detected and suppressed errors, rerun with: -s
==639753== ERROR SUMMARY: 1225029 errors from 15 contexts (suppressed: 0 from 0)
